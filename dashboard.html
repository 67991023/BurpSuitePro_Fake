<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OpenBurp Dashboard</title>
    <style>
        body { background-color: #1e1e1e; color: #00ff00; font-family: monospace; padding: 20px; }
        h1 { border-bottom: 1px solid #333; padding-bottom: 10px; }
        #logs { 
            height: 500px; 
            overflow-y: scroll; 
            border: 1px solid #444; 
            padding: 10px; 
            background: #000;
        }
        .entry { margin-bottom: 5px; border-bottom: 1px dashed #333; padding: 5px; }
        .method { color: #ffeb3b; font-weight: bold; }
        .url { color: #4fc3f7; }
    </style>
</head>
<body>
    <h1>üöÄ OpenBurp Dashboard (Phase 2)</h1>
    <div id="status">üî¥ Disconnected...</div>
    <div id="logs"></div>

    <script>
        // 1. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Go Server (Port 8081)
        const ws = new WebSocket("ws://localhost:8081/ws");

        const statusDiv = document.getElementById("status");
        const logsDiv = document.getElementById("logs");

        // 2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
        ws.onopen = () => {
            statusDiv.innerHTML = "üü¢ Connected to OpenBurp Engine!";
            statusDiv.style.color = "#00ff00";
        };

        // 3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å Go
        ws.onmessage = (event) => {
            const data = JSON.parse(event.data); // ‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô Object
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà
            const div = document.createElement("div");
            div.className = "entry";
            div.innerHTML = `<span class="method">[${data.method}]</span> <span class="url">${data.url}</span>`;
            
            // ‡∏¢‡∏±‡∏î‡πÉ‡∏™‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á logs
            logsDiv.appendChild(div);
            
            // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô Scrollbar ‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠
            logsDiv.scrollTop = logsDiv.scrollHeight;
        };
        
        ws.onclose = () => {
            statusDiv.innerHTML = "üî¥ Connection Lost";
            statusDiv.style.color = "red";
        }
    </script>
</body>
</html>